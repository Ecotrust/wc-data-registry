<!DOCTYPE html>
<HTML lang="en">
    <HEAD>
        <meta charset="utf-8">
        <title>WCGA RDF GeoPortal Solr Prototype</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">

        <!-- Le styles -->
        <link href="static/third-party/bootstrap/css/bootstrap.css" rel="stylesheet">
        <link href="static/third-party/jquery/css/bootstrap/jquery-ui-1.8.16.custom.css" rel="stylesheet">
        <style>

        </style>
        <link href="static/third-party/bootstrap/css/bootstrap-responsive.css" rel="stylesheet">
        <link href="static/third-party/bootstrap/css/font-awesome.css" rel="stylesheet">

        <link href="static/third-party/pageguide/css/pageguide.css" rel="stylesheet">

        <link href="static/css/wcga-rdf-prototype.css" rel="stylesheet">
        <link href="static/css/map_style.css" rel="stylesheet">

        <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
        <!--[if lt IE 9]>
        <link href="{{STATIC_URL}}css/ie.css" rel="stylesheet">

        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->

        <script src="static/js/local_settings.js"></script>

        <script src="static/third-party/jquery/js/jquery-1.8.0.min.js">
        </script>
        <SCRIPT src="static/third-party/Knockout/knockout-2.1.js" >
        </SCRIPT>
        <SCRIPT src="static/third-party/Knockout/knockout-mapping.js" >
        </SCRIPT>
        <SCRIPT src="static/third-party/bootstrap/js/bootstrap.min.js" ></SCRIPT>
        <SCRIPT src="static/third-party/datepicker/js/bootstrap-datepicker.js" ></SCRIPT>
        <SCRIPT src="static/third-party/OpenLayers-2.12/OpenLayers.js" ></SCRIPT>
        <script src="static/js/map.js"></script>

    </HEAD>
    <BODY onload="load()">
        <header role="banner">
            <div class="navbar navbar-fixed-top">
                <div class="navbar-inner">
                    <div class="container">
                        <div class="row-fluid">
                            <div class="span5">
                                <p class="navbar-title">West Coast Data Registry</p>
                                <a class="navbar-subtitle" href="old_prototype/index.html">Old Prototype</a>
                            </div>
                            <div class="span7">
                                <div class="nav-collapse">
                                    <div>
                                        <ul class="nav pull-right">
                                            <li>
                                                <a href="#">Discover</a>
                                            </li>
                                            <li>
                                                <a href="#">Contribute</a>
                                            </li>
                                            <li>
                                                <a href="#">Connect</a>
                                            </li>
                                            <li>
                                                <a href="#">About</a>
                                            </li>
                                            <li class="navbar-logo">
                                                <a href="#">
                                                    <p class="navbar-logo-line1">A Project of:</p>
                                                    <img class="navbar-logo-img" src="static/img/wcga_logo.png"/>
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <div class="container">
            <div class="content" class="row">
                <div class="span12 wcga-rdf-content" id="filter">
                    <div class="row-fluid filters">
                        <div class="span12">
                            <!-- Tab scaffolding -->
                            <div class="tabbable">
                                <ul class="nav nav-tabs">
                                    <li class="active">
                                        <a href="#tab-search-content" data-toggle="tab" id="search-tab">Search</a>
                                    </li>
                                    <li>
                                        <a href="#tab-date-content" data-toggle="tab" class="toDate fromDate" id="date-tab">Date</a>
                                    </li>
                                    <li>
                                        <a href="#tab-location-content" data-toggle="tab" id="location-tab">Location</a>
                                    </li>
                                    <li>
                                        <a href="#tab-keyword-content" data-toggle="tab" id="keyword-tab">Keywords</a>
                                    </li>
                                </ul>
                                <!-- Tab content -->
                                <div class="tab-content">
                                    <div class="tab-pane active" id="tab-search-content">
                                        <div class="row-fluid">
                                            <div class="span12">
                                                <h4>Filter by free text search</h4>
                                                <textarea data-bind="value: search" placeholder='Free text search. Example - cable*'></textarea>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="tab-date-content">
                                        <h4>Filter by Date Range</h4>
                                        <div class="row-fluid">
                                            <div class="span6">
                                                <div class="input-append" id="from">
                                                    <input type="text" id="fromDate" placeholder="Start Date" data-bind="datepicker: fromDate, datepickerOptions: {}"/>
                                                    <span class="add-on"><i class="icon-remove-sign" data-bind="click: removeDate"></i></span>
                                                </div>
                                            </div>
                                            <div class="span6">
                                                <div class="input-append" id="to">
                                                    <input type="text" id="toDate" placeholder="End Date" data-bind="datepicker: toDate, datepickerOptions: {}"/>
                                                    <span class="add-on"><i class="icon-remove-sign" data-bind="click: removeDate"></i></span>
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="tab-location-content">
                                        <div class="row-fluid">
                                            <div class="span12">
                                                <h4>Filter by Location</h4>
                                                <div class="row-fluid">
                                                    <div class="span6">
                                                        <div id="map" class="smallmap"></div>
                                                    </div>
                                                    <div class="span6">
                                                        <div class="row-fluid">
                                                            <div class="span12">
                                                                <label class="checkbox">
                                                                    <input type="checkbox" data-bind="checked: useBb">Filter by location
                                                                </label>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid">
                                                            <div class="span4">
                                                                <p>Latitude:</p>
                                                            </div>
                                                            <div class="span8">
                                                                <p><strong data-bind="text: bbLat"></strong></p>
                                                            </div>
                                                        </div>
                                                        <div class="row-fluid">
                                                            <div class="span4">
                                                                <p>Longitude:</p>
                                                            </div>
                                                            <div class="span8">
                                                                <p><strong data-bind="text: bbLon"></strong></p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="tab-pane" id="tab-keyword-content">
                                        <div class="row-fluid">
                                            <div class="span12">
                                                <div id="keywords" data-bind="html: keywordsDisplay">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span12 wcga-rdf-content" id="query-info">
                            <h4>Query:</h4>
                            <p data-bind="visible: search">Search: <strong data-bind="text: search"></strong></p>
                            <p data-bind="visible: fromDate">From Date: <strong data-bind="text: fromDate"></strong></p>
                            <p data-bind="visible: toDate">To Date: <strong data-bind="text: toDate"></strong></p>
                            <p data-bind="visible: useBb">Coordinates: <strong data-bind="text: bbLat"></strong>, <strong data-bind="text: bbLon"></strong></p>
                            <p>Q Query: <strong data-bind="text: q_query"></strong></p>
                            <p>FQ Query: <strong data-bind="text: fq_query"></strong></p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span12">
                    <button>Get External Content</button>
                    <h4 id="total-count">Total records: <strong data-bind="text: totalRecordsCount"></strong></h4>
                </div>
            </div>
            <div class="row-fluid">
                <div class="span11 wcga-rdf-content" id="ajax1">
                    <h4>Found: <strong data-bind="text: numFound"></strong></h4>
                    <dl class="my-new-list dl-horizontal" data-bind="html: resultsDisplay">
                    </dl>
                </div>
            </div>
        </div>
        <script src="static/js/wcga-rdf-prototype.js"></script>
        <SCRIPT src="static/js/ko-bindings.js" ></SCRIPT>
    </BODY>
</HTML>